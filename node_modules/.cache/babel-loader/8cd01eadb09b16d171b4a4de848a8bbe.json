{"ast":null,"code":"import * as React from \"react\";\nimport { isBrowser } from \"@chakra-ui/utils\";\nvar useSafeLayoutEffect = isBrowser ? React.useLayoutEffect : React.useEffect;\n/**\n * React hook that tracks state of a CSS media query\n *\n * @param query the media query to match\n */\n\nexport function useMediaQuery(query) {\n  var queries = Array.isArray(query) ? query : [query];\n  var isSupported = isBrowser && \"matchMedia\" in window;\n  var [matches, setMatches] = React.useState(queries.map(query => isSupported ? !!window.matchMedia(query).matches : false));\n  useSafeLayoutEffect(() => {\n    if (!isSupported) return undefined;\n    var mediaQueryList = queries.map(query => window.matchMedia(query));\n    var listenerList = mediaQueryList.map((mediaQuery, index) => {\n      var listener = () => setMatches(prev => prev.map((prevValue, idx) => index === idx ? !!mediaQuery.matches : prevValue));\n\n      mediaQuery.addListener(listener);\n      return listener;\n    });\n    return () => {\n      mediaQueryList.forEach((mediaQuery, index) => {\n        mediaQuery.removeListener(listenerList[index]);\n      });\n    };\n  }, [query]);\n  return matches;\n}","map":{"version":3,"mappings":"AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,SAASC,SAAT,QAA0B,kBAA1B;AAEA,IAAMC,mBAAmB,GAAGD,SAAS,GAAGD,KAAK,CAACG,eAAT,GAA2BH,KAAK,CAACI,SAAtE;AAEA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASC,aAAT,CAAuBC,KAAvB,EAA4D;EACjE,IAAMC,OAAO,GAAGC,KAAK,CAACC,OAAND,CAAcF,KAAdE,IAAuBF,KAAvBE,GAA+B,CAACF,KAAD,CAA/C;EACA,IAAMI,WAAW,GAAGT,SAAS,IAAI,gBAAgBU,MAAjD;EAEA,IAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBb,KAAK,CAACc,QAANd,CAC5BO,OAAO,CAACQ,GAARR,CAAaD,KAAD,IACVI,WAAW,GAAG,CAAC,CAACC,MAAM,CAACK,UAAPL,CAAkBL,KAAlBK,EAAyBC,OAA9B,GAAwC,KADrDL,CAD4BP,CAA9B;EAMAE,mBAAmB,CAAC,MAAM;IACxB,IAAI,CAACQ,WAAL,EAAkB,OAAOO,SAAP;IAElB,IAAMC,cAAc,GAAGX,OAAO,CAACQ,GAARR,CAAaD,KAAD,IAAWK,MAAM,CAACK,UAAPL,CAAkBL,KAAlBK,CAAvBJ,CAAvB;IAEA,IAAMY,YAAY,GAAGD,cAAc,CAACH,GAAfG,CAAmB,CAACE,UAAD,EAAaC,KAAb,KAAuB;MAC7D,IAAMC,QAAQ,GAAG,MACfT,UAAU,CAAEU,IAAD,IACTA,IAAI,CAACR,GAALQ,CAAS,CAACC,SAAD,EAAYC,GAAZ,KACPJ,KAAK,KAAKI,GAAVJ,GAAgB,CAAC,CAACD,UAAU,CAACR,OAA7BS,GAAuCG,SADzCD,CADQ,CADZ;;MAOAH,UAAU,CAACM,WAAXN,CAAuBE,QAAvBF;MAEA,OAAOE,QAAP;IAVmB,EAArB;IAaA,OAAO,MAAM;MACXJ,cAAc,CAACS,OAAfT,CAAuB,CAACE,UAAD,EAAaC,KAAb,KAAuB;QAC5CD,UAAU,CAACQ,cAAXR,CAA0BD,YAAY,CAACE,KAAD,CAAtCD;MADF;IADF;EAlBiB,GAuBhB,CAACd,KAAD,CAvBgB,CAAnBJ;EAyBA,OAAOU,OAAP;AACD","names":["React","isBrowser","useSafeLayoutEffect","useLayoutEffect","useEffect","useMediaQuery","query","queries","Array","isArray","isSupported","window","matches","setMatches","useState","map","matchMedia","undefined","mediaQueryList","listenerList","mediaQuery","index","listener","prev","prevValue","idx","addListener","forEach","removeListener"],"sources":["../../src/use-media-query.ts"],"sourcesContent":["import * as React from \"react\"\nimport { isBrowser } from \"@chakra-ui/utils\"\n\nconst useSafeLayoutEffect = isBrowser ? React.useLayoutEffect : React.useEffect\n\n/**\n * React hook that tracks state of a CSS media query\n *\n * @param query the media query to match\n */\nexport function useMediaQuery(query: string | string[]): boolean[] {\n  const queries = Array.isArray(query) ? query : [query]\n  const isSupported = isBrowser && \"matchMedia\" in window\n\n  const [matches, setMatches] = React.useState(\n    queries.map((query) =>\n      isSupported ? !!window.matchMedia(query).matches : false,\n    ),\n  )\n\n  useSafeLayoutEffect(() => {\n    if (!isSupported) return undefined\n\n    const mediaQueryList = queries.map((query) => window.matchMedia(query))\n\n    const listenerList = mediaQueryList.map((mediaQuery, index) => {\n      const listener = () =>\n        setMatches((prev) =>\n          prev.map((prevValue, idx) =>\n            index === idx ? !!mediaQuery.matches : prevValue,\n          ),\n        )\n\n      mediaQuery.addListener(listener)\n\n      return listener\n    })\n\n    return () => {\n      mediaQueryList.forEach((mediaQuery, index) => {\n        mediaQuery.removeListener(listenerList[index])\n      })\n    }\n  }, [query])\n\n  return matches\n}\n"]},"metadata":{},"sourceType":"module"}