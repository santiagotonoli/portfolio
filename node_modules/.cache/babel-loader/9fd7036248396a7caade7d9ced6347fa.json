{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport * as React from 'react';\nimport { decode } from 'blurhash';\n\nvar BlurhashCanvas =\n/** @class */\nfunction (_super) {\n  __extends(BlurhashCanvas, _super);\n\n  function BlurhashCanvas() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.canvas = null;\n\n    _this.handleRef = function (canvas) {\n      _this.canvas = canvas;\n\n      _this.draw();\n    };\n\n    _this.draw = function () {\n      var _a = _this.props,\n          hash = _a.hash,\n          height = _a.height,\n          punch = _a.punch,\n          width = _a.width;\n\n      if (_this.canvas) {\n        var pixels = decode(hash, width, height, punch);\n\n        var ctx = _this.canvas.getContext('2d');\n\n        var imageData = ctx.createImageData(width, height);\n        imageData.data.set(pixels);\n        ctx.putImageData(imageData, 0, 0);\n      }\n    };\n\n    return _this;\n  }\n\n  BlurhashCanvas.prototype.componentDidUpdate = function () {\n    this.draw();\n  };\n\n  BlurhashCanvas.prototype.render = function () {\n    var _a = this.props,\n        hash = _a.hash,\n        height = _a.height,\n        width = _a.width,\n        rest = __rest(_a, [\"hash\", \"height\", \"width\"]);\n\n    return React.createElement(\"canvas\", __assign({}, rest, {\n      height: height,\n      width: width,\n      ref: this.handleRef\n    }));\n  };\n\n  BlurhashCanvas.defaultProps = {\n    height: 128,\n    width: 128\n  };\n  return BlurhashCanvas;\n}(React.PureComponent);\n\nexport default BlurhashCanvas;","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,SAASC,MAAT,QAAuB,UAAvB;;AASA;AAAA;AAAA;EAA4CC;;EAA5C;IAAA;;IAMEC,eAA4B,IAA5B;;IAMAA,kBAAY,UAACC,MAAD,EAA0B;MACpCD,KAAI,CAACC,MAAL,GAAcA,MAAd;;MACAD,KAAI,CAACE,IAAL;IACD,CAHD;;IAKAF,aAAO;MACC,SAAiCA,KAAI,CAACG,KAAtC;MAAA,IAAEC,IAAI,UAAN;MAAA,IAAQC,MAAM,YAAd;MAAA,IAAgBC,KAAK,WAArB;MAAA,IAAuBC,KAAK,WAA5B;;MAEN,IAAIP,KAAI,CAACC,MAAT,EAAiB;QACf,IAAMO,MAAM,GAAGV,MAAM,CAACM,IAAD,EAAOG,KAAP,EAAcF,MAAd,EAAsBC,KAAtB,CAArB;;QAEA,IAAMG,GAAG,GAAGT,KAAI,CAACC,MAAL,CAAYS,UAAZ,CAAuB,IAAvB,CAAZ;;QACA,IAAMC,SAAS,GAAGF,GAAG,CAACG,eAAJ,CAAoBL,KAApB,EAA2BF,MAA3B,CAAlB;QACAM,SAAS,CAACE,IAAV,CAAeC,GAAf,CAAmBN,MAAnB;QACAC,GAAG,CAACM,YAAJ,CAAiBJ,SAAjB,EAA4B,CAA5B,EAA+B,CAA/B;MACD;IACF,CAXD;;;EAkBD;;EA3BCK;IACE,KAAKd,IAAL;EACD,CAFD;;EAsBAc;IACE,IAAMC,KAAmC,KAAKd,KAA9C;IAAA,IAAQC,IAAI,UAAZ;IAAA,IAAcC,MAAM,YAApB;IAAA,IAAsBE,KAAK,WAA3B;IAAA,IAAgCW,IAAI,cAA9B,2BAA8B,CAApC;;IAEA,OAAOrB,2CAAYqB,IAAZ,EAAgB;MAAEb,MAAM,EAAEA,MAAV;MAAkBE,KAAK,EAAEA,KAAzB;MAAgCY,GAAG,EAAE,KAAKC;IAA1C,CAAhB,EAAP;EACD,CAJD;;EA7BOJ,8BAAe;IACpBX,MAAM,EAAE,GADY;IAEpBE,KAAK,EAAE;EAFa,CAAf;EAkCT;AAAC,CAnCD,CAA4CV,KAAK,CAACwB,aAAlD;;eAAqBL","names":["React","decode","__extends","_this","canvas","draw","props","hash","height","punch","width","pixels","ctx","getContext","imageData","createImageData","data","set","putImageData","BlurhashCanvas","_a","rest","ref","handleRef","PureComponent"],"sourceRoot":"","sources":["../src/BlurhashCanvas.tsx"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}