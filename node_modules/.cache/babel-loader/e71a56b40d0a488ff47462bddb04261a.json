{"ast":null,"code":"export function getOwnerWindow(node) {\n  var _getOwnerDocument$def, _getOwnerDocument;\n\n  return node instanceof Element ? (_getOwnerDocument$def = (_getOwnerDocument = getOwnerDocument(node)) == null ? void 0 : _getOwnerDocument.defaultView) != null ? _getOwnerDocument$def : window : window;\n}\nexport function getOwnerDocument(node) {\n  var _node$ownerDocument;\n\n  return node instanceof Element ? (_node$ownerDocument = node.ownerDocument) != null ? _node$ownerDocument : document : document;\n}\nexport function getRelatedTarget(event) {\n  return event.relatedTarget || event.nativeEvent.explicitOriginalTarget || document.activeElement;\n}\nexport function canUseDOM() {\n  return !!(typeof window !== \"undefined\" && window.document && window.document.createElement);\n}\nexport var isBrowser = canUseDOM();\n/**\n * Get the normalized event key across all browsers\n * @param event keyboard event\n */\n\nexport function normalizeEventKey(event) {\n  var {\n    key,\n    keyCode\n  } = event;\n  var isArrowKey = keyCode >= 37 && keyCode <= 40 && key.indexOf(\"Arrow\") !== 0;\n  var eventKey = isArrowKey ? \"Arrow\" + key : key;\n  return eventKey;\n}\nexport var dataAttr = condition => condition ? \"\" : undefined;\nexport var ariaAttr = condition => condition ? true : undefined;\nexport var cx = function cx() {\n  for (var _len = arguments.length, classNames = new Array(_len), _key = 0; _key < _len; _key++) {\n    classNames[_key] = arguments[_key];\n  }\n\n  return classNames.filter(Boolean).join(\" \");\n};\nexport function getActiveElement(node) {\n  var doc = getOwnerDocument(node);\n  return doc == null ? void 0 : doc.activeElement;\n}\nexport function contains(parent, child) {\n  if (!parent) return false;\n  return parent === child || parent.contains(child);\n}\nexport function addDomEvent(target, eventName, handler, options) {\n  target.addEventListener(eventName, handler, options);\n  return () => {\n    target.removeEventListener(eventName, handler, options);\n  };\n}","map":{"version":3,"mappings":"AAGA,OAAO,SAASA,cAAT,CAAwBC,IAAxB,EAAmD;EAAA;;EACxD,OAAOA,IAAI,YAAYC,OAAhBD,iDACHE,gBAAgB,CAACF,IAAD,CADb,qBACHG,kBAAwBC,WADrB,oCACoCC,MADpCL,GAEHK,MAFJ;AAGD;AAED,OAAO,SAASH,gBAAT,CAA0BF,IAA1B,EAAqD;EAAA;;EAC1D,OAAOA,IAAI,YAAYC,OAAhBD,0BAA0BA,IAAI,CAACM,aAA/B,kCAAgDC,QAAhDP,GAA2DO,QAAlE;AACD;AAED,OAAO,SAASC,gBAAT,CACLC,KADK,EAEL;EACA,OAAQA,KAAK,CAACC,aAAND,IACLA,KAAD,CAAeE,WAAdF,CAA0BG,sBADrBH,IAENF,QAAQ,CAACM,aAFX;AAGD;AAED,OAAO,SAASC,SAAT,GAAqB;EAC1B,OAAO,CAAC,EACN,OAAOT,MAAP,KAAkB,WAAlB,IACAA,MAAM,CAACE,QADP,IAEAF,MAAM,CAACE,QAAPF,CAAgBU,aAHV,CAAR;AAKD;AAED,OAAO,IAAMC,SAAS,GAAGF,SAAS,EAA3B;AAEP;AACA;AACA;AACA;;AACA,OAAO,SAASG,iBAAT,CAA2BR,KAA3B,EAAuD;EAC5D,IAAM;IAAES,GAAF;IAAOC;EAAP,IAAmBV,KAAzB;EAEA,IAAMW,UAAU,GACdD,OAAO,IAAI,EAAXA,IAAiBA,OAAO,IAAI,EAA5BA,IAAkCD,GAAG,CAACG,OAAJH,CAAY,OAAZA,MAAyB,CAD7D;EAGA,IAAMI,QAAQ,GAAGF,UAAU,aAAWF,GAAX,GAAmBA,GAA9C;EAEA,OAAOI,QAAP;AACD;AAED,OAAO,IAAMC,QAAQ,GAAIC,SAAD,IACrBA,SAAS,GAAG,EAAH,GAAQC,SADb;AAGP,OAAO,IAAMC,QAAQ,GAAIF,SAAD,IACtBA,SAAS,GAAG,IAAH,GAAUC,SADd;AAGP,OAAO,IAAME,EAAE,GAAG,SAALA,EAAK;EAAA,kCAAIC,UAAJ;IAAIA,UAAJ,MAAIA,GAAJC,eAAID;EAAJ;;EAAA,OAA0BA,UAAU,CAACE,MAAXF,CAAkBG,OAAlBH,EAA2BI,IAA3BJ,CAAgC,GAAhCA,CAA1B;AAAX;AAEP,OAAO,SAASK,gBAAT,CAA0BjC,IAA1B,EAA8C;EACnD,IAAMkC,GAAG,GAAGhC,gBAAgB,CAACF,IAAD,CAA5B;EACA,OAAOkC,GAAP,QAAOA,GAAP,MAAOA,MAAG,CAAErB,aAAZ;AACD;AAED,OAAO,SAASsB,QAAT,CAAkBC,MAAlB,EAA8CC,KAA9C,EAAkE;EACvE,IAAI,CAACD,MAAL,EAAa,OAAO,KAAP;EACb,OAAOA,MAAM,KAAKC,KAAXD,IAAoBA,MAAM,CAACD,QAAPC,CAAgBC,KAAhBD,CAA3B;AACD;AAED,OAAO,SAASE,WAAT,CACLC,MADK,EAELC,SAFK,EAGLC,OAHK,EAILC,OAJK,EAKL;EACAH,MAAM,CAACI,gBAAPJ,CAAwBC,SAAxBD,EAAmCE,OAAnCF,EAA4CG,OAA5CH;EACA,OAAO,MAAM;IACXA,MAAM,CAACK,mBAAPL,CAA2BC,SAA3BD,EAAsCE,OAAtCF,EAA+CG,OAA/CH;EADF;AAGD","names":["getOwnerWindow","node","Element","getOwnerDocument","_getOwnerDocument","defaultView","window","ownerDocument","document","getRelatedTarget","event","relatedTarget","nativeEvent","explicitOriginalTarget","activeElement","canUseDOM","createElement","isBrowser","normalizeEventKey","key","keyCode","isArrowKey","indexOf","eventKey","dataAttr","condition","undefined","ariaAttr","cx","classNames","arguments","filter","Boolean","join","getActiveElement","doc","contains","parent","child","addDomEvent","target","eventName","handler","options","addEventListener","removeEventListener"],"sources":["../../src/dom.ts"],"sourcesContent":["import * as React from \"react\"\nimport { Booleanish, EventKeys } from \"./types\"\n\nexport function getOwnerWindow(node?: HTMLElement | null) {\n  return node instanceof Element\n    ? getOwnerDocument(node)?.defaultView ?? window\n    : window\n}\n\nexport function getOwnerDocument(node?: HTMLElement | null) {\n  return node instanceof Element ? node.ownerDocument ?? document : document\n}\n\nexport function getRelatedTarget<E extends FocusEvent | React.FocusEvent>(\n  event: E,\n) {\n  return (event.relatedTarget ||\n    (event as any).nativeEvent.explicitOriginalTarget ||\n    document.activeElement) as HTMLElement\n}\n\nexport function canUseDOM() {\n  return !!(\n    typeof window !== \"undefined\" &&\n    window.document &&\n    window.document.createElement\n  )\n}\n\nexport const isBrowser = canUseDOM()\n\n/**\n * Get the normalized event key across all browsers\n * @param event keyboard event\n */\nexport function normalizeEventKey(event: React.KeyboardEvent) {\n  const { key, keyCode } = event\n\n  const isArrowKey =\n    keyCode >= 37 && keyCode <= 40 && key.indexOf(\"Arrow\") !== 0\n\n  const eventKey = isArrowKey ? `Arrow${key}` : key\n\n  return eventKey as EventKeys\n}\n\nexport const dataAttr = (condition: boolean | undefined) =>\n  (condition ? \"\" : undefined) as Booleanish\n\nexport const ariaAttr = (condition: boolean | undefined) =>\n  condition ? true : undefined\n\nexport const cx = (...classNames: any[]) => classNames.filter(Boolean).join(\" \")\n\nexport function getActiveElement(node?: HTMLElement) {\n  const doc = getOwnerDocument(node)\n  return doc?.activeElement as HTMLElement\n}\n\nexport function contains(parent: HTMLElement | null, child: HTMLElement) {\n  if (!parent) return false\n  return parent === child || parent.contains(child)\n}\n\nexport function addDomEvent(\n  target: EventTarget,\n  eventName: string,\n  handler: EventListener,\n  options?: AddEventListenerOptions,\n) {\n  target.addEventListener(eventName, handler, options)\n  return () => {\n    target.removeEventListener(eventName, handler, options)\n  }\n}\n"]},"metadata":{},"sourceType":"module"}