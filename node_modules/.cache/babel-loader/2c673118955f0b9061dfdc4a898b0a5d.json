{"ast":null,"code":"export { default as mergeWith } from \"lodash.mergewith\";\nexport function omit(object, keys) {\n  var result = {};\n  Object.keys(object).forEach(key => {\n    if (keys.includes(key)) return;\n    result[key] = object[key];\n  });\n  return result;\n}\nexport function pick(object, keys) {\n  var result = {};\n  keys.forEach(key => {\n    if (key in object) {\n      result[key] = object[key];\n    }\n  });\n  return result;\n}\nexport function split(object, keys) {\n  var picked = {};\n  var omitted = {};\n  Object.keys(object).forEach(key => {\n    if (keys.includes(key)) {\n      picked[key] = object[key];\n    } else {\n      omitted[key] = object[key];\n    }\n  });\n  return [picked, omitted];\n}\n/**\n * Get value from a deeply nested object using a string path.\n * Memoizes the value.\n * @param obj - the object\n * @param path - the string path\n * @param def  - the fallback value\n */\n\nexport function get(obj, path, fallback, index) {\n  var key = typeof path === \"string\" ? path.split(\".\") : [path];\n\n  for (index = 0; index < key.length; index += 1) {\n    if (!obj) break;\n    obj = obj[key[index]];\n  }\n\n  return obj === undefined ? fallback : obj;\n}\nexport var memoize = fn => {\n  var cache = new WeakMap();\n\n  var memoizedFn = (obj, path, fallback, index) => {\n    if (typeof obj === \"undefined\") {\n      return fn(obj, path, fallback);\n    }\n\n    if (!cache.has(obj)) {\n      cache.set(obj, new Map());\n    }\n\n    var map = cache.get(obj);\n\n    if (map.has(path)) {\n      return map.get(path);\n    }\n\n    var value = fn(obj, path, fallback, index);\n    map.set(path, value);\n    return value;\n  };\n\n  return memoizedFn;\n};\nexport var memoizedGet = memoize(get);\n/**\n * Get value from deeply nested object, based on path\n * It returns the path value if not found in object\n *\n * @param path - the string path or value\n * @param scale - the string path or value\n */\n\nexport function getWithDefault(path, scale) {\n  return memoizedGet(scale, path, path);\n}\n/**\n * Returns the items of an object that meet the condition specified in a callback function.\n *\n * @param object the object to loop through\n * @param fn The filter function\n */\n\nexport function objectFilter(object, fn) {\n  var result = {};\n  Object.keys(object).forEach(key => {\n    var value = object[key];\n    var shouldPass = fn(value, key, object);\n\n    if (shouldPass) {\n      result[key] = value;\n    }\n  });\n  return result;\n}\nexport var filterUndefined = object => objectFilter(object, val => val !== null && val !== undefined);\nexport var objectKeys = obj => Object.keys(obj);\n/**\n * Object.entries polyfill for Nodev10 compatibility\n */\n\nexport var fromEntries = entries => entries.reduce((carry, _ref) => {\n  var [key, value] = _ref;\n  carry[key] = value;\n  return carry;\n}, {});\n/**\n * Get the CSS variable ref stored in the theme\n */\n\nexport var getCSSVar = (theme, scale, value) => {\n  var _theme$__cssMap$$varR, _theme$__cssMap$;\n\n  return (_theme$__cssMap$$varR = (_theme$__cssMap$ = theme.__cssMap[scale + \".\" + value]) == null ? void 0 : _theme$__cssMap$.varRef) != null ? _theme$__cssMap$$varR : value;\n};","map":{"version":3,"mappings":"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","names":["default","mergeWith","omit","object","keys","result","Object","forEach","key","includes","pick","split","picked","omitted","get","obj","path","fallback","index","length","undefined","memoize","fn","cache","WeakMap","memoizedFn","has","set","Map","map","value","memoizedGet","getWithDefault","scale","objectFilter","shouldPass","filterUndefined","val","objectKeys","fromEntries","entries","reduce","carry","_ref","getCSSVar","theme","__cssMap","_theme$__cssMap$","varRef"],"sources":["../../src/object.ts"],"sourcesContent":["import type { Dict, Omit } from \"./types\"\n\nexport { default as mergeWith } from \"lodash.mergewith\"\n\nexport function omit<T extends Dict, K extends keyof T>(object: T, keys: K[]) {\n  const result: Dict = {}\n\n  Object.keys(object).forEach((key) => {\n    if (keys.includes(key as K)) return\n    result[key] = object[key]\n  })\n\n  return result as Omit<T, K>\n}\n\nexport function pick<T extends Dict, K extends keyof T>(object: T, keys: K[]) {\n  const result = {} as { [P in K]: T[P] }\n\n  keys.forEach((key) => {\n    if (key in object) {\n      result[key] = object[key]\n    }\n  })\n\n  return result\n}\n\nexport function split<T extends Dict, K extends keyof T>(object: T, keys: K[]) {\n  const picked: Dict = {}\n  const omitted: Dict = {}\n\n  Object.keys(object).forEach((key) => {\n    if (keys.includes(key as T[K])) {\n      picked[key] = object[key]\n    } else {\n      omitted[key] = object[key]\n    }\n  })\n\n  return [picked, omitted] as [{ [P in K]: T[P] }, Omit<T, K>]\n}\n\n/**\n * Get value from a deeply nested object using a string path.\n * Memoizes the value.\n * @param obj - the object\n * @param path - the string path\n * @param def  - the fallback value\n */\nexport function get(\n  obj: object,\n  path: string | number,\n  fallback?: any,\n  index?: number,\n) {\n  const key = typeof path === \"string\" ? path.split(\".\") : [path]\n\n  for (index = 0; index < key.length; index += 1) {\n    if (!obj) break\n    obj = obj[key[index]]\n  }\n\n  return obj === undefined ? fallback : obj\n}\n\ntype Get = (\n  obj: Readonly<object>,\n  path: string | number,\n  fallback?: any,\n  index?: number,\n) => any\n\nexport const memoize = (fn: Get) => {\n  const cache = new WeakMap()\n\n  const memoizedFn: Get = (obj, path, fallback, index) => {\n    if (typeof obj === \"undefined\") {\n      return fn(obj, path, fallback)\n    }\n\n    if (!cache.has(obj)) {\n      cache.set(obj, new Map())\n    }\n\n    const map = cache.get(obj)\n\n    if (map.has(path)) {\n      return map.get(path)\n    }\n\n    const value = fn(obj, path, fallback, index)\n\n    map.set(path, value)\n\n    return value\n  }\n\n  return memoizedFn\n}\n\nexport const memoizedGet = memoize(get)\n\n/**\n * Get value from deeply nested object, based on path\n * It returns the path value if not found in object\n *\n * @param path - the string path or value\n * @param scale - the string path or value\n */\nexport function getWithDefault(path: any, scale: any) {\n  return memoizedGet(scale, path, path)\n}\n\ntype FilterFn<T> = (value: any, key: string, object: T) => boolean\n\n/**\n * Returns the items of an object that meet the condition specified in a callback function.\n *\n * @param object the object to loop through\n * @param fn The filter function\n */\nexport function objectFilter<T extends Dict>(object: T, fn: FilterFn<T>) {\n  const result: Dict = {}\n\n  Object.keys(object).forEach((key) => {\n    const value = object[key]\n    const shouldPass = fn(value, key, object)\n    if (shouldPass) {\n      result[key] = value\n    }\n  })\n\n  return result\n}\n\nexport const filterUndefined = (object: Dict) =>\n  objectFilter(object, (val) => val !== null && val !== undefined)\n\nexport const objectKeys = <T extends Dict>(obj: T) =>\n  (Object.keys(obj) as unknown) as (keyof T)[]\n\n/**\n * Object.entries polyfill for Nodev10 compatibility\n */\nexport const fromEntries = <T extends unknown>(entries: [string, any][]) =>\n  entries.reduce((carry, [key, value]) => {\n    carry[key] = value\n    return carry\n  }, {}) as T\n\n/**\n * Get the CSS variable ref stored in the theme\n */\nexport const getCSSVar = (theme: Dict, scale: string, value: any) =>\n  theme.__cssMap[`${scale}.${value}`]?.varRef ?? value\n"]},"metadata":{},"sourceType":"module"}